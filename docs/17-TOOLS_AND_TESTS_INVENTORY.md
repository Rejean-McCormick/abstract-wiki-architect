Here is the updated **Tools & Tests Inventory (v2.3)**, incorporating the new **Expert Level** tools (`visualize_ast`, `profiler`, `gap_filler`, `ambiguity_detector`) and clarifying the organization.

---

# üõ†Ô∏è Tools & Tests Inventory (v2.3)

**Abstract Wiki Architect**

This document is the registry for executable scripts, maintenance tools, and automated tests. It maps each file to its physical location and explains when and how to use it.

**Key policy (Everything Matrix upgrade):**

* **`tools/everything_matrix/build_index.py` is the only normal refresh entrypoint** for the Everything Matrix.
* All scanners (`rgl_scanner`, `lexicon_scanner`, `app_scanner`, `qa_scanner`) are **debug tools / libraries**:
* **side-effect free by default**
* only write shared artifacts when explicitly requested (CLI flags) or when invoked by `build_index.py --regen-*`.



---

## 1) üïπÔ∏è Core Orchestration (The ‚ÄúCommand Center‚Äù)

| Tool File | Usage | Description |
| --- | --- | --- |
| **`Run-Architect.ps1`** | `.\Run-Architect.ps1` | Launcher. Kills zombie processes, checks Docker, spawns API/Worker/Frontend windows. |
| **`manage.py`** | `python manage.py start` | Backend CLI for starting services; wraps build/clean tasks. |

---

## 2) üè≠ The Build System (The Factory)

Tools responsible for compiling GF code and constructing the runtime binary.

| Tool File | Location | Usage | Description |
| --- | --- | --- | --- |
| **`builder/orchestrator.py`** | `gf/` | `manage.py build` | Compiler orchestration (Verify ‚Üí Link) to create `AbstractWiki.pgf`. |
| **`grammar_factory.py`** | `utils/` | *Imported Lib* | Weighted topology / Tier-3 grammar generation logic. |

> Note: If you previously relied on `generate_path_map.py` to find RGL modules, the preferred mechanism is now **`data/indices/rgl_inventory.json`** generated by **`tools/everything_matrix/rgl_scanner.py`** (explicit regen only).

---

## 3) üß† The ‚ÄúEverything Matrix‚Äù Suite (Single Orchestrator)

These scripts generate the `everything_matrix.json` registry (‚Äúself-awareness‚Äù).

### 3.1 Normal entrypoint (use this)

| Tool File | Location | Usage | Description |
| --- | --- | --- | --- |
| **`build_index.py`** | `tools/everything_matrix/` | `python tools/everything_matrix/build_index.py` | **Single Orchestrator.** Builds `data/indices/everything_matrix.json`. Loads inventories once, normalizes to **iso2**, does not duplicate scans in a normal refresh. |

### 3.2 Scanners (debug tools + libraries)

| Tool File | Location | Usage | Description |
| --- | --- | --- | --- |
| **`rgl_scanner.py`** | `tools/everything_matrix/` | `python tools/everything_matrix/rgl_scanner.py` | **Zone A source.** Walks `gf-rgl/src` and produces `data/indices/rgl_inventory.json` *only when explicitly asked* (e.g. `--write`, or orchestrator `--regen-rgl`). |
| **`lexicon_scanner.py`** | `tools/everything_matrix/` | `python tools/everything_matrix/lexicon_scanner.py` | **Zone B source.** Provides `scan_all_lexicons(lex_root) -> {iso2: stats}`. Debug CLI can print JSON. No per-language directory walk in `build_index.py`. |
| **`app_scanner.py`** | `tools/everything_matrix/` | `python tools/everything_matrix/app_scanner.py` | **Zone C source.** Provides `scan_all_apps(repo_root) -> {iso2: stats}` (iso2-keyed). Debug CLI prints JSON. |
| **`qa_scanner.py`** | `tools/everything_matrix/` | `python tools/everything_matrix/qa_scanner.py` | **Zone D source.** Provides `scan_all_artifacts(gf_root) -> {iso2: stats}`. Debug CLI prints JSON. |

### 3.3 Shared helpers (new)

| File | Location | Usage | Description |
| --- | --- | --- | --- |
| **`norm.py`** | `tools/everything_matrix/` | *Imported Lib* | **Normalization source of truth.** ISO/Wiki alias ‚Üí canonical **iso2**, plus optional name lookup. |
| **`io_utils.py`** | `tools/everything_matrix/` | *Imported Lib* | JSON read/write, atomic writes, fingerprinting helpers (used by orchestrator/scanners). |
| **`docs/everything_matrix_orchestration.md`** | `docs/` | *Readme* | Contracts, normalization rules, regen flags, output schema, debug workflows. |

---

## 4) üõ†Ô∏è General System Tools (Maintenance & Health)

| Tool File | Location | Usage | Description |
| --- | --- | --- | --- |
| **`profiler.py`** | `tools/health/` | `python tools/health/profiler.py` | **Performance.** Benchmarks TPS (Transactions Per Second) and memory usage for regression testing. |
| **`audit_languages.py`** | `tools/` | `python tools/audit_languages.py` | Health check across languages (valid/broken/skipped). |
| **`check_all_languages.py`** | `tools/` | `python tools/check_all_languages.py` | Deep runtime verification (API payload per language). |
| **`diagnostic_audit.py`** | `tools/` | `python tools/diagnostic_audit.py` | Forensics for stale/zombie build artifacts. |
| **`cleanup_root.py`** | `tools/` | `python tools/cleanup_root.py` | Removes temp `.gfo` files and reorganizes sources. |
| **`bootstrap_tier1.py`** | `tools/` | `python tools/bootstrap_tier1.py` | Bootstraps `Wiki*.gf` files for Tier-1 (RGL) languages. |
| **`ai_refiner.py`** | `tools/` | `python tools/ai_refiner.py` | AI upgrade tool for grammar refinement. |
| **`config_extractor.py`** | `tools/` | `python tools/config_extractor.py` | Export config chunks for deployment. |

---

## 5) ‚õèÔ∏è Data Ingestion (The Refinery)

| Tool File | Location | Usage | Description |
| --- | --- | --- | --- |
| **`gap_filler.py`** | `tools/lexicon/` | `python tools/lexicon/gap_filler.py` | **Data Ops.** Compares target vs pivot (English) lexicons to identify missing vocabulary ("easy wins"). |
| **`build_lexicon_from_wikidata.py`** | `tools/` | `python tools/build_lexicon_from_wikidata.py` | Fetches QIDs from Wikidata and saves JSON shards. |
| **`harvest_lexicon.py`** | `tools/` | `python tools/harvest_lexicon.py` | Advanced mining from local sources / Wikidata. |
| **`seed_lexicon_ai.py`** | `utils/` | `python utils/seed_lexicon_ai.py` | AI seeding for `core.json` vocabulary lists. |
| **`dump_lexicon_stats.py`** | `utils/` | `python utils/dump_lexicon_stats.py` | Outputs lexicon coverage statistics. |
| **`migrate_lexicon_schema.py`** | `utils/` | `python utils/migrate_lexicon_schema.py` | Upgrades lexicon JSON schema. |
| **`refresh_lexicon_index.py`** | `utils/` | `python utils/refresh_lexicon_index.py` | Rebuilds fast lookup indices for API. |

---

## 6) üß™ QA & Testing Suite

| File Type | Location | Usage | Description |
| --- | --- | --- | --- |
| **Debugger** | **`tools/debug/visualize_ast.py`** | `python tools/debug/visualize_ast.py` | **AST Visualizer.** Converts GF parse trees into JSON/Graphs for debugging grammar structure. |
| **AI QA** | **`tools/qa/ambiguity_detector.py`** | `python tools/qa/ambiguity_detector.py` | **Ambiguity Trap.** Uses AI to generate sentences that test grammar robustness against ambiguity. |
| Simple Runner | `tools/qa/test_runner.py` | `python tools/qa/test_runner.py` | CSV runner (simple) for `test_suite_*.csv`. |
| Universal Runner | `tools/qa/universal_test_runner.py` | `python tools/qa/universal_test_runner.py` | CSV runner (advanced) for complex construction testing. |
| Suite Generator | `tools/qa/test_suite_generator.py` | `python tools/qa/test_suite_generator.py` | Creates empty CSV test templates. |
| Batch Generator | `tools/qa/batch_test_generator.py` | `python tools/qa/batch_test_generator.py` | Generates bulk regression datasets. |
| Bio Evaluator | `tools/qa/eval_bios.py` | `python tools/qa/eval_bios.py` | Compares generated bios vs Wikidata facts. |
| Coverage Report | `tools/qa/lexicon_coverage_report.py` | `python tools/qa/lexicon_coverage_report.py` | Report on intended vs implemented lexicon coverage. |
| Smoke Tests | `tests/test_lexicon_smoke.py` | `pytest tests/test_lexicon_smoke.py` | Validates lexicon file syntax/structure. |

### üß© Automated Unit Tests (`pytest`)

#### üìÇ Domain Logic

| Category | Location | Description |
| --- | --- | --- |
| Core Logic | `tests/core/` | Tests business logic, domain models, use cases. |
| API Adapters | `tests/adapters/` | Verifies external interfaces (Wikidata connectivity/endpoints). |
| HTTP Layer | `tests/http_api/` | Tests FastAPI controllers, routes, JSON payloads. |
| Integration | `tests/integration/` | End-to-end tests (Worker queues, full workflows). |

#### üìÇ Engine & Data

| Category | File Pattern | Description |
| --- | --- | --- |
| Frames | `tests/test_frames_*.py` | Semantic frame validation. |
| Lexicon | `tests/test_lexicon_*.py` | Loader/indexer/Wikidata bridge tests. |
| GF Engine | `tests/test_gf_dynamic.py` | Dynamic GF loading/linearization. |
| API Smoke | `tests/test_api_smoke.py` | API starts and responds to pings. |
| Generation | `tests/test_multilingual_generation.py` | Multi-language generation verification. |

---

## 7) ü§ñ AI Services (The Staff)

| Agent | Location | Trigger | Role |
| --- | --- | --- | --- |
| Architect | `ai_services/architect.py` | `manage.py generate` | Writes new GF code for missing languages. |
| Surgeon | `ai_services/surgeon.py` | Build failure | Patches broken code based on compiler errors. |
| Lexicographer | `ai_services/lexicographer.py` | Missing data | Generates `core.json` for empty languages. |
| Judge | `ai_services/judge.py` | QA pipeline | Evaluates output quality vs gold standards. |