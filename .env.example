# --- Application ---
APP_NAME=abstract-wiki-architect
APP_ENV=development # development, staging, production
DEBUG=true
LOG_LEVEL=INFO
LOG_FORMAT=json # console, json

# --- Security (Required for Release) ---
# Shared secret for Service-to-Service authentication (v1.0)
API_SECRET=change-me-in-production-secure-random-string
# Algorithm for JWT (if upgrading to OAuth2 later)
AUTH_ALGORITHM=HS256

# --- Persistence ---
# Option A: Local Filesystem (Development / fallback)
FILESYSTEM_REPO_PATH=/app/data

# Option B: S3 Blob Storage (Production)
# Uncomment these to enable S3 persistence for compiled grammars
# STORAGE_BACKEND=s3
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1
# AWS_BUCKET_NAME=abstract-wiki-grammars

# --- Messaging (Redis) ---
# Hostname matches the service name in docker-compose.yml
REDIS_URL=redis://redis:6379/0
REDIS_QUEUE_NAME=architect_tasks

# --- External Services ---
WIKIDATA_SPARQL_URL=https://query.wikidata.org/sparql
# Timeout in seconds before Circuit Breaker trips
WIKIDATA_TIMEOUT=30

# --- Worker ---
# Max concurrent builds per container
WORKER_CONCURRENCY=2

# --- Observability (OpenTelemetry) ---
# Endpoint for the OTLP Collector (e.g., Jaeger, Grafana Tempo)
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4317
OTEL_SERVICE_NAME=architect-api