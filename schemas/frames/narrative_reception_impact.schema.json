{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://abstract-wiki.org/schemas/frames/narrative_reception_impact.schema.json",
  "title": "Abstract Wiki Frame: Reception / impact (narrative)",
  "description": "Frame capturing the reception and impact of a subject (typically a work, idea, person, or event), including critical and public reception, impact domains, metrics, and awards.",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "frame_type": {
      "description": "Stable frame type identifier.",
      "const": "aggregate.reception"
    },
    "subject_id": {
      "description": "Optional identifier of the subject whose reception / impact is described (e.g. Wikidata ID, internal ID).",
      "type": [
        "string",
        "null"
      ]
    },
    "critical_reception": {
      "description": "Structured signals of critical reception (critics, reviewers, professional bodies).",
      "type": "array",
      "items": {
        "$ref": "#/definitions/ReceptionItem"
      },
      "default": []
    },
    "public_reception": {
      "description": "Structured signals of public / audience reception (viewers, readers, listeners, communities).",
      "type": "array",
      "items": {
        "$ref": "#/definitions/ReceptionItem"
      },
      "default": []
    },
    "impact_domains": {
      "description": "Domains or fields in which the subject has had an impact, with domain-specific details and key events.",
      "type": "array",
      "items": {
        "$ref": "#/definitions/ImpactDomain"
      },
      "default": []
    },
    "metrics": {
      "description": "Optional quantitative or categorical metrics summarizing reception and impact (box office, ratings, citations, viewership, etc.).",
      "type": "object",
      "additionalProperties": {
        "oneOf": [
          {
            "type": "string"
          },
          {
            "type": "number"
          },
          {
            "type": "integer"
          },
          {
            "type": "boolean"
          },
          {
            "type": "null"
          }
        ]
      },
      "default": {}
    },
    "awards": {
      "description": "Award-related events associated with the subject (wins, nominations, shortlists).",
      "type": "array",
      "items": {
        "$ref": "#/definitions/EventRef"
      },
      "default": []
    },
    "extra": {
      "description": "Free-form metadata bag for information that does not yet have a dedicated slot.",
      "type": "object",
      "additionalProperties": true,
      "default": {}
    }
  },
  "required": [
    "frame_type"
  ],
  "definitions": {
    "EntityRef": {
      "description": "Lightweight reference to an entity (person, organization, work, publication, community, etc.).",
      "type": "object",
      "additionalProperties": true,
      "properties": {
        "id": {
          "description": "Stable identifier for the entity (e.g. Wikidata QID, internal database ID).",
          "type": "string"
        },
        "name": {
          "description": "Human-readable name or label for the entity.",
          "type": "string"
        },
        "type": {
          "description": "Optional coarse entity type label (e.g. 'person', 'organization', 'publication').",
          "type": "string"
        }
      }
    },
    "TimeSpan": {
      "description": "Approximate time span used to situate reception / impact signals.",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "start_year": {
          "type": [
            "integer",
            "null"
          ]
        },
        "start_month": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 1,
          "maximum": 12
        },
        "start_day": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 1,
          "maximum": 31
        },
        "end_year": {
          "type": [
            "integer",
            "null"
          ]
        },
        "end_month": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 1,
          "maximum": 12
        },
        "end_day": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 1,
          "maximum": 31
        },
        "approximate": {
          "description": "Whether the span is approximate (e.g. dates inferred, circa markers, uncertain years).",
          "type": "boolean",
          "default": false
        },
        "extra": {
          "description": "Free-form metadata associated with the time span.",
          "type": "object",
          "additionalProperties": true,
          "default": {}
        }
      }
    },
    "EventRef": {
      "description": "Reference to an event frame instance relevant for reception / impact (e.g. an award ceremony, publication, premiere).",
      "type": "object",
      "additionalProperties": true,
      "properties": {
        "event_id": {
          "description": "Identifier of the referenced event (may link to a separate event frame).",
          "type": "string"
        },
        "event_type": {
          "description": "Optional coarse event type label (e.g. 'award', 'nomination', 'festival').",
          "type": "string"
        },
        "label": {
          "description": "Human-readable label or title for the event.",
          "type": "string"
        }
      }
    },
    "ReceptionItem": {
      "description": "One reception signal corresponding to a particular source, stance, topic, and time window.",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "source_entity": {
          "description": "Entity representing the source of the reception signal (critic, publication, award body, community, etc.).",
          "oneOf": [
            {
              "$ref": "#/definitions/EntityRef"
            },
            {
              "type": "null"
            }
          ]
        },
        "stance": {
          "description": "Coarse attitude label such as 'positive', 'mixed', 'negative', or similar taxonomy used downstream.",
          "type": [
            "string",
            "null"
          ]
        },
        "topic": {
          "description": "Optional label for the aspect being evaluated (e.g. 'performance', 'script', 'direction', 'methodology').",
          "type": [
            "string",
            "null"
          ]
        },
        "time": {
          "description": "Optional time span when this reception signal was expressed.",
          "oneOf": [
            {
              "$ref": "#/definitions/TimeSpan"
            },
            {
              "type": "null"
            }
          ]
        },
        "properties": {
          "description": "Additional structured properties attached to this reception item (e.g. numeric rating, scale, quote IDs, URLs).",
          "type": "object",
          "additionalProperties": true,
          "default": {}
        }
      }
    },
    "ImpactDomain": {
      "description": "One domain or field in which the subject has had an impact, with optional detailed descriptors and key events.",
      "type": "object",
      "additionalProperties": false,
      "required": [
        "domain"
      ],
      "properties": {
        "domain": {
          "description": "Short label for the domain of impact (e.g. 'physics', 'cinema', 'popular culture', 'civil rights').",
          "type": "string"
        },
        "description_properties": {
          "description": "Properties describing the nature of the impact in this domain (e.g. lemmas, examples, summaries, typical constructions).",
          "type": "object",
          "additionalProperties": true,
          "default": {}
        },
        "key_events": {
          "description": "Concrete events illustrating the impact in this domain (e.g. major citations, adoptions, remakes, policy changes).",
          "type": "array",
          "items": {
            "$ref": "#/definitions/EventRef"
          },
          "default": []
        }
      }
    }
  }
}
